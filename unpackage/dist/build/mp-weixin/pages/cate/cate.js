"use strict";const t=require("../../common/vendor.js"),e=require("../../common/cateTpey.js"),i={data:()=>({name:"wkiwi",height:0,categoryActive:0,scrollTop:0,scrollLeftTop:0,classifyData:e.classifyData,arr:[0,584,1168,1752,2336,2805,3274,3858,4442,4911,5380,5734,6203,6672,7017],leftItemHeight:51,navLeftHeight:0,diff:0,tabBarHeight:47}),onLoad:function(){this.height=t.index.getSystemInfoSync().windowHeight-this.tabBarHeight},onReady(){this.getHeightList()},methods:{getHeightList(){let i=this,o=t.index.createSelectorQuery();o.selectAll(".nav-left-item").boundingClientRect((function(t){i.leftItemHeight=t[0].height,i.navLeftHeight=i.leftItemHeight*e.classifyData.length,i.diff=i.navLeftHeight-i.height})),o.selectAll(".box").boundingClientRect((function(t){let e=[0],o=0;t.forEach((function(t){o+=t.height,e.push(o)})),i.arr=e})).exec()},scroll(t){let i=this;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){i.scrollHeight=t.detail.scrollTop+1+i.height/2;for(let t=0;t<i.arr.length;t++){let o=i.arr[t],c=i.arr[t+1];if(!c||i.scrollHeight>=o&&i.scrollHeight<c)return i.categoryActive=t,i.diff>0&&(i.scrollLeftTop=Math.round(i.categoryActive*i.diff/(e.classifyData.length-1))),!1}i.categoryActive=0,i.timeoutId=void 0}),10)},categoryClickMain(t){this.categoryActive=t,this.scrollTop==this.arr[t]?this.scrollTop=this.scrollTop+1:this.scrollTop=this.arr[t]},cart:function(e){t.index.navigateTo({url:"./shop_dea?id="+e})}}};const o=t._export_sfc(i,[["render",function(e,i,o,c,a,r){return{a:t.f(a.classifyData,((e,i,o)=>({a:t.t(e.name),b:t.o((t=>r.categoryClickMain(i)),i),c:i,d:t.n(i==a.categoryActive?"active":"")}))),b:t.s("height:"+a.height+"px"),c:a.scrollLeftTop,d:t.f(a.classifyData,((e,i,o)=>({a:t.t(e.name),b:t.f(e.foods,((e,i,o)=>({a:t.t(e.name),b:0==i?"first":"",c:i,d:t.o((t=>r.cart(e.cat)),i)}))),c:i}))),e:a.scrollTop,f:t.o(((...t)=>r.scroll&&r.scroll(...t))),g:t.s("height:"+a.height+"px")}}]]);wx.createPage(o);
